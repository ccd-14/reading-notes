# ARAP:逆地址解析协议
如果局域网中的主机只知道自己的MAC地址，不知道IP地址，可以通过ARAP协议发出广播请求，由ARAP服务器回答。
它是许多[无盘系统](https://baike.baidu.com/item/%E6%97%A0%E7%9B%98%E7%B3%BB%E7%BB%9F/10644051?fr=aladdin)在引导时用来获取IP地址。
## ARAP数据帧格式
与[ARP数据帧格式](chap4_ARP-protocol.md/#ARP数据帧格式)基本相同，主要区别在于：
- RARP请求或应答帧类型为0X8035;
- RARP请求的操作码为3，应答操作码为4；

ARP和RARP以**广播方式请求**，以**单播方式应答**。

## RARP协议工作流程：
- 主机广播RARP请求，声明自己的MAC地址；
- 本网段的所有主机都会接受请求数据包，检查自身的RARP列表，若未找到，则丢弃该请求包；若找到，则发送响应数据包，提供IP地址；
- 源主机受到RARP响应信号，就可利用得到的IP地址通信；若一直未收到，表示初始化失败。

