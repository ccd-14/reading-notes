# ICMP协议：控制报文协议
由于 IP 协议简单，数据传输天然存在不可靠、无连接等特点，为了解决数据传输出现的问题，引入了ICMP协议。ICMP 协议用于在 IP 主机和路由器之间传递控制消息，描述网络是否通畅、主机是否可达、路由器是否可用等网络状态。它可以跟踪消息，把问题反馈给源主机。 
 
:bulb:  ICMP 协议的数据包并**不传输用户数据**，但是对于用户数据的传递起着重要的作用。

# ICMP报文格式
ICMP报文分为**差错报文**（不可达信息）、**查询报文**（请求、应答等）。报文格式如下：
<div align=left><img width="450" height="110" src="./images/ICMP报文格式.JPG"/></div>  
每个字段含义如下： 
 
|字段|含义|
|-|-|
|类型|占1个字节，描述特定地ICMP报文|
|代码|占一个字节，和`类型`共同使用|
|校验和|占2个字节|
|数据部分|产生差错的数据报IP首部 + TCP/UDP首部前8个字节|



